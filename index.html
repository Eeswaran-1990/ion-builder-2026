<!DOCTYPE html>
<html lang="en-NZ" data-contrast="normal" data-dyslexia="on">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ion Builder (H–Kr) — Electron Configuration Mini-Game</title>

  <!-- Google Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">

  <!-- Local CSS -->
  <link rel="stylesheet" href="style.css">
</head>

<body>

<noscript>
  <div style="max-width:900px;margin:16px auto;padding:12px;border:1px solid #d0d7de;border-radius:12px;font-family:Arial,sans-serif;">
    This activity needs JavaScript enabled to run correctly.
  </div>
</noscript>

<main class="wrap" aria-label="Ion Builder interactive learning tool">

  <!-- HEADER -->
  <header class="header">
    <h1>Ion Builder (H → Kr)</h1>

    <p class="subhead">
      Change electrons to build ions and instantly see shells +
      <span class="mono">spdf</span> notation update.
    </p>

    <section class="toolbar" aria-label="Display controls">
      <button id="toggleContrast"
              class="btn btn--soft"
              type="button"
              aria-pressed="false">
        High contrast
      </button>
    </section>
  </header>

  <!-- MAIN GRID -->
  <section class="grid" aria-label="Main content">

    <!-- LEFT PANEL -->
    <section class="card" aria-label="Build an ion">

      <h2 class="h2">Build an ion</h2>

      <div class="row">
        <label class="field">
          <span class="field__label">Element (first 36)</span>
          <select id="elementSelect"
                  class="select"
                  aria-label="Choose an element">
          </select>
        </label>

        <div class="stat" role="group" aria-label="Current element details">
          <div class="stat__item">
            <span class="stat__k">Z</span>
            <span id="zOut" class="stat__v">12</span>
          </div>

          <div class="stat__item">
            <span class="stat__k">Symbol</span>
            <span id="symOut" class="stat__v">Mg</span>
          </div>

          <div class="stat__item">
            <span class="stat__k">Charge</span>
            <span id="chargeOut" class="stat__v">0</span>
          </div>
        </div>
      </div>

      <div class="divider" role="separator"></div>

      <h3 class="h3">Adjust electrons</h3>

      <div class="row row--spread">
        <button id="minus" class="btn" type="button">− 1 e⁻</button>

        <div class="pill">
          Electrons:
          <span id="eCount" class="pill__big">12</span>
        </div>

        <button id="plus" class="btn" type="button">+ 1 e⁻</button>
      </div>

      <label class="sliderWrap">
        <input id="slider"
               class="slider"
               type="range"
               min="1"
               max="36"
               value="12">
        <div class="sliderTicks">
          <span>1</span>
          <span>36</span>
        </div>
      </label>

      <!-- UDL CALL OUT -->
      <div class="callout">
        <p class="callout__title">UDL supports built in</p>
        <ul class="callout__list">
          <li>Extra spacing supports readability.</li>
          <li>Colour is paired with labels (s / p / d / f).</li>
          <li>Clear focus rings support keyboard navigation.</li>
        </ul>
      </div>

      <!-- OUTPUTS -->
      <div class="outputs">

        <div class="outputCard">
          <h3 class="h3">Shell arrangement</h3>
          <div id="shells"
               class="shells"
               aria-label="Electron shells">
          </div>
        </div>

        <div class="outputCard">
          <h3 class="h3">spdf notation</h3>
          <p id="spdf" class="mono spdf"></p>
          <p id="stability" class="note"></p>
        </div>

      </div>

      <div class="divider"></div>

      <!-- CHALLENGE MODE -->
      <h3 class="h3">Challenge mode</h3>

      <div class="row">
        <label class="field">
          <span class="field__label">Target ion charge</span>
          <select id="targetIon" class="select"></select>
        </label>

        <button id="setTarget" class="btn btn--primary">
          Set electrons to target
        </button>

        <button id="randomChallenge" class="btn btn--soft">
          Random challenge
        </button>
      </div>

      <div class="row row--spread">
        <button id="check" class="btn btn--good">
          Check my ion
        </button>

        <div class="pill">
          Result:
          <span id="resultOut" class="pill__big">—</span>
        </div>
      </div>

      <p class="small">
        Reminder: <b>protons stay the same</b>.
        Only the <b>number of electrons</b> changes when ions form.
      </p>

      <div class="sr-only" aria-live="assertive" id="srStatus"></div>

    </section>

    <!-- RIGHT PANEL -->
    <section class="card" aria-label="Visual explanation">

      <h2 class="h2">Visual explanation</h2>

      <p class="note">
        Orbitals fill in this order (first 36 e⁻):
        <span class="mono">1s 2s 2p 3s 3p 4s 3d 4p</span>.
      </p>

      <div class="legend">
        <div class="legend__item legend__s">
          <span class="legend__swatch"></span> s-block
        </div>
        <div class="legend__item legend__p">
          <span class="legend__swatch"></span> p-block
        </div>
        <div class="legend__item legend__d">
          <span class="legend__swatch"></span> d-block
        </div>
        <div class="legend__item legend__f">
          <span class="legend__swatch"></span> f-block (not used for 1–36)
        </div>
      </div>

      <div id="orbitalView" class="orbs"></div>

    </section>

  </section>

  <footer class="footer">
    <p class="small">
      Keyboard-friendly: Tab to navigate, Enter/Space to activate buttons.
    </p>
  </footer>

</main>

<!-- Local JS -->
<script src="script.js"></script>

</body>
</html>
